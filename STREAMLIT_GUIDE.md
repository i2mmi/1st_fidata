# Streamlit 앱 사용 가이드

## 🚀 실행 방법

### 1. 패키지 설치
```bash
# 가상환경 활성화
source venv/bin/activate

# Streamlit 및 Plotly 설치
pip install streamlit plotly
```

### 2. 앱 실행
```bash
streamlit run app.py
```

브라우저가 자동으로 열리며 `http://localhost:8501`에서 앱을 확인할 수 있습니다.

## 📱 주요 기능

### 1. **데이터 소스 선택**
- **CSV 파일**: 종목 리스트가 담긴 CSV 파일 업로드
- **FDR 자동 수집**: KOSPI 종목을 자동으로 수집

### 2. **클러스터링 설정**
- **최적 K 자동 탐색**: Elbow Method와 Silhouette Score로 최적 K 자동 탐색
- **수동 K 지정**: 직접 클러스터 개수 지정 (2~15)

### 3. **필터링 기능**
- **섹터별 필터링**: IT/소프트웨어, 반도체/전자, 자동차, 금융 등 섹터별 선택
- **클러스터별 필터링**: 특정 클러스터만 표시
- **검색 기능**: 종목명이나 종목 코드로 검색

### 4. **인터랙티브 시각화**
- **Plotly 차트**: 줌인/줌아웃, 패닝 가능
- **호버 정보**: 마우스를 올리면 종목 상세 정보 표시
- **클러스터별 색상 구분**: 각 클러스터가 다른 색상으로 표시

### 5. **상세 정보**
- **클러스터별 종목 목록**: 선택한 클러스터의 종목 상세 정보
- **섹터 분포**: 클러스터 내 섹터별 분포 차트
- **섹터-클러스터 교차표**: 섹터별 클러스터 분포 표

### 6. **결과 다운로드**
- CSV 파일로 클러스터링 결과 다운로드

## 🎨 시각화 특징

### 인터랙티브 차트
- **줌/패닝**: 마우스 휠로 확대/축소, 드래그로 이동
- **호버**: 마우스를 올리면 종목 정보 표시
- **범례 클릭**: 클러스터별로 표시/숨김 가능

### 색상 구분
- 각 클러스터는 고유한 색상으로 표시
- 같은 색상 = 같은 클러스터 = 유사한 주가 패턴

## 📊 섹터 분류

현재 지원하는 섹터:
- IT/소프트웨어 (NAVER, 카카오, 크래프톤 등)
- 반도체/전자 (삼성전자, SK하이닉스, LG전자 등)
- 자동차 (현대차, 기아, 현대모비스 등)
- 금융 (KB금융, 신한지주, 하나금융지주 등)
- 화학/에너지 (LG화학, SK이노베이션, S-Oil 등)
- 건설/중공업 (두산에너빌리티, HD현대중공업 등)
- 바이오/제약 (삼성바이오로직스, 셀트리온 등)
- 유통/서비스 (아모레퍼시픽, 신세계 등)
- 통신 (SK텔레콤, KT, LG유플러스)
- 철강/소재 (POSCO홀딩스, 고려아연 등)
- 기타

## 💡 사용 팁

1. **처음 사용 시**: "FDR 자동 수집"을 선택하고 종목 수를 30~50개로 설정하여 빠르게 테스트
2. **최적 K 탐색**: 처음에는 "최적 K 자동 탐색"을 사용하여 적절한 클러스터 개수 확인
3. **필터링 활용**: 특정 섹터나 클러스터만 선택하여 집중 분석
4. **검색 기능**: 관심 종목을 빠르게 찾아 위치 확인
5. **차트 인터랙션**: 줌인하여 가까운 종목들의 관계를 자세히 확인

## 🔧 커스터마이징

### 섹터 매핑 수정
`app.py`의 `SECTOR_MAPPING` 딕셔너리를 수정하여 섹터 분류를 변경할 수 있습니다.

### 색상 팔레트 변경
Plotly의 색상 팔레트를 변경하려면 `px.colors.qualitative.Set3` 부분을 수정하세요.

## ⚠️ 주의사항

- 데이터 수집은 시간이 걸릴 수 있습니다 (종목 수에 비례)
- 많은 종목을 선택하면 시각화가 복잡해질 수 있습니다
- 인터넷 연결이 필요합니다 (FDR 데이터 수집 시)

