# 클러스터링 차트 해석 가이드

## 📊 차트 구성 요소

### 1. **좌표축 (X축, Y축)**

#### X축 (PCA Component 1)
- **의미**: 첫 번째 주성분 (Principal Component 1)
- **해석**: 데이터의 **가장 큰 변동성을 설명하는 방향**
- **실질적 의미**: 주가 움직임의 주요 패턴을 나타냄
  - 양수(+) 방향: 어떤 종목들이 함께 움직이는지
  - 음수(-) 방향: 반대 패턴을 보이는 종목들

#### Y축 (PCA Component 2)
- **의미**: 두 번째 주성분 (Principal Component 2)
- **해석**: 첫 번째 주성분 다음으로 **두 번째로 큰 변동성을 설명하는 방향**
- **실질적 의미**: 추가적인 주가 패턴 차이를 구분

> **PCA (Principal Component Analysis)**란?
> - 고차원 데이터를 2차원으로 압축하여 시각화하는 기법
> - 원본 데이터의 정보 손실을 최소화하면서 차원을 축소
> - 예: 200일의 주가 데이터 → 2개의 좌표 (X, Y)

### 2. **점 (Scatter Plot)**

각 점은 하나의 종목을 나타냅니다.

#### 점의 위치
- **X, Y 좌표**: 해당 종목의 로그 누적 수익률 패턴을 2차원으로 표현
- **가까운 점들**: 주가 움직임이 **유사한 종목들**
  - 같은 시기에 상승/하승
  - 같은 속도로 움직임
  - 상관관계가 높음

#### 점의 색상
- **클러스터 그룹**: 같은 색상 = 같은 클러스터에 속한 종목
- 클러스터는 유사한 주가 패턴을 가진 종목들의 그룹

#### 점 위의 텍스트
- **종목명**: 각 점 위에 표시된 회사 이름
- **배경색**: 클러스터 색상과 같은 테두리

### 3. **클러스터 (Cluster)**

#### 클러스터의 의미
- 같은 클러스터에 속한 종목들은 **주가 움직임이 유사**함
- K-Means 알고리즘이 로그 누적 수익률 패턴을 분석하여 자동으로 그룹화

#### 클러스터 해석 예시
```
클러스터 0: IT/테크 종목 (NAVER, 카카오, 크래프톤)
클러스터 1: 금융 종목 (KB금융, 신한지주, 하나금융지주)
클러스터 2: 전기/전자 종목 (삼성전자, SK하이닉스, LG전자)
클러스터 3: 자동차 종목 (현대차, 기아, 현대모비스)
클러스터 4: 에너지/화학 종목 (S-Oil, LG화학, SK이노베이션)
```

## 🔍 차트 해석 방법

### 1. **거리로 해석하기**

#### 가까운 종목들
- **같은 영역에 모여 있는 종목들**: 주가 패턴이 매우 유사
- **투자 전략**: 
  - 비슷한 반응을 보일 가능성이 높음
  - 하나를 사면 다른 것도 함께 고려

#### 먼 종목들
- **차트의 반대편에 위치**: 주가 패턴이 다름
- **투자 전략**:
  - 포트폴리오 다각화에 유리
  - 리스크 분산 효과

### 2. **클러스터로 해석하기**

#### 클러스터 내부
- 같은 클러스터 내 종목들은 **유사한 특성**을 가짐
- 예: 같은 업종, 같은 시장 상황에 반응

#### 클러스터 간 관계
- **가까운 클러스터**: 어느 정도 관련성 있음
- **먼 클러스터**: 패턴이 많이 다름

### 3. **좌표축 위치로 해석하기**

#### X축 (PCA Component 1)
- **양수 영역 (오른쪽)**: 특정 패턴의 주가 움직임
- **음수 영역 (왼쪽)**: 반대 패턴의 주가 움직임
- **0 근처**: 평균적인 패턴

#### Y축 (PCA Component 2)
- **양수 영역 (위쪽)**: 추가적인 특이 패턴
- **음수 영역 (아래쪽)**: 다른 특이 패턴
- **0 근처**: 표준 패턴

## 📈 실전 활용 예시

### 예시 1: 포트폴리오 구성
```
삼성전자와 SK하이닉스가 가까이 있음
→ 둘 다 전기/전자 업종, 상관관계 높음
→ 포트폴리오에 둘 다 넣으면 리스크 집중

대신: 삼성전자 + KB금융 + 현대차
→ 서로 다른 클러스터
→ 리스크 분산 효과
```

### 예시 2: 업종 분석
```
금융 종목들이 한 클러스터에 모여 있음
→ 금융업계가 비슷한 패턴으로 움직임
→ 금융 정책 변화 시 모두 영향을 받을 가능성
```

### 예시 3: 이상 종목 발견
```
대부분의 IT 종목이 한 클러스터에 있는데
어떤 IT 종목만 멀리 떨어져 있음
→ 특별한 이유가 있을 수 있음 (이슈, 실적 등)
```

## ⚠️ 주의사항

### 1. **PCA 설명력 한계**
- PCA는 2차원으로 축소하는 과정에서 **정보 손실**이 발생
- 전체 데이터의 60-80% 정도만 설명할 수 있음
- 나머지 차원의 정보는 손실됨

### 2. **시간적 한계**
- **과거 데이터**를 기반으로 한 분석
- 미래를 보장하지 않음
- 시장 상황 변화 시 패턴도 변화할 수 있음

### 3. **데이터 기간**
- 분석 기간(예: 1년)에 따라 결과가 달라질 수 있음
- 더 긴 기간 = 더 안정적인 패턴
- 더 짧은 기간 = 최근 추세 반영

## 💡 요약

1. **X, Y 좌표**: 주가 패턴을 2차원으로 압축한 것
2. **거리**: 가까울수록 주가 움직임이 유사
3. **클러스터**: 같은 색 = 비슷한 패턴 그룹
4. **활용**: 포트폴리오 구성, 업종 분석, 이상 탐지

## 📊 PCA 설명력 확인

프로그램 실행 시 다음과 같은 정보가 출력됩니다:
```
PCA 설명력:
   Component 1: 45.23%
   Component 2: 18.67%
   전체 설명력: 63.90%
```

- **전체 설명력이 높을수록** (80% 이상) 더 신뢰할 수 있음
- **낮을 경우** (60% 미만) 다른 차원의 정보가 많이 손실되었을 수 있음

